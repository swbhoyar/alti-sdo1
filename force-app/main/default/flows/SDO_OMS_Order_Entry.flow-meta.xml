<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Add_Cart_Item_0</name>
        <label>Add Cart Item</label>
        <locationX>2074</locationX>
        <locationY>3884</locationY>
        <actionName>addCartItem</actionName>
        <actionType>addCartItem</actionType>
        <connector>
            <targetReference>Product_Items_Loop</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Invocable_Action_Error_Message</targetReference>
        </faultConnector>
        <flowTransactionModel>NewTransaction</flowTransactionModel>
        <inputParameters>
            <name>cartStateOrId</name>
            <value>
                <elementReference>Create_Cart_1.cartSummary.cartId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cartItemInput</name>
            <value>
                <elementReference>Cart_Item_Input</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>effectiveAccountId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>webStoreId</name>
            <value>
                <elementReference>selectedWebstore.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>addCartItem</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Create_Cart_1</name>
        <label>Create Cart</label>
        <locationX>1634</locationX>
        <locationY>2438</locationY>
        <actionName>createCart</actionName>
        <actionType>createCart</actionType>
        <connector>
            <targetReference>Current_Stage_Select_Product_and_Quantity_Screen</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Invocable_Action_Error_Message</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>cartInput</name>
            <value>
                <elementReference>CartInput</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>webStoreId</name>
            <value>
                <elementReference>selectedWebstore.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>createCart</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Delete_Existing_Cart_1</name>
        <label>Delete Existing Cart</label>
        <locationX>1370</locationX>
        <locationY>2090</locationY>
        <actionName>deleteCart</actionName>
        <actionType>deleteCart</actionType>
        <connector>
            <targetReference>Initialize_Cart_Input_1</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Invocable_Action_Error_Message</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>cartStateOrId</name>
            <value>
                <elementReference>cartId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>effectiveAccountId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>webStoreId</name>
            <value>
                <elementReference>selectedWebstore.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>deleteCart</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>58.0</apiVersion>
    <assignments>
        <name>Active_Stages_Billing_Stage</name>
        <label>Active Stages</label>
        <locationX>1766</locationX>
        <locationY>1058</locationY>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Enter_Billing_Information_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Confirmation_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_Webstore_and_Location_Group</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Active_Stages_Multiple_Webstores</name>
        <label>Active Stages</label>
        <locationX>1766</locationX>
        <locationY>758</locationY>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Select_Webstore_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Select_Product_and_Quantity_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Enter_Shipping_Address_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Select_Delivery_Option_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Order_Preview_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Select_Webstore_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Using_External_Payment_Mode</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Active_Stages_Multiple_Webstores_Multiple_Location_Groups</name>
        <label>Active Stages</label>
        <locationX>1502</locationX>
        <locationY>758</locationY>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Select_Webstore_And_Location_Group_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Select_Product_and_Quantity_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Enter_Shipping_Address_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Select_Delivery_Option_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Order_Preview_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Select_Webstore_And_Location_Group_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Using_External_Payment_Mode</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Active_Stages_Submit_Order</name>
        <label>Active Stages</label>
        <locationX>1502</locationX>
        <locationY>1058</locationY>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Submit_Order_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.ActiveStages</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Confirmation_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_Webstore_and_Location_Group</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Cart_Item_Input_Assignment</name>
        <label>Cart Item Input</label>
        <locationX>2338</locationX>
        <locationY>3668</locationY>
        <assignmentItems>
            <assignToReference>Cart_Item_Input.productId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Items_Loop.productId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Cart_Item_Input.quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Items_Loop.quantity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Product_Added</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Current_Stage_Confirmation_Stage</name>
        <label>Current Stage = Confirmation</label>
        <locationX>1634</locationX>
        <locationY>5414</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Confirmation_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>confirmationImage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Confirmation_Image</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Confirmation_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Current_Stage_Enter_Billing_Information_Stage</name>
        <label>Current Stage = Enter Billing Information</label>
        <locationX>1766</locationX>
        <locationY>5114</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Enter_Billing_Information_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Payment_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Current_Stage_Enter_Shipping_Address_Stage</name>
        <label>Current Stage = Enter Shipping Address</label>
        <locationX>1634</locationX>
        <locationY>4358</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Enter_Shipping_Address_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Enter_Shipping_Address_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Current_Stage_Order_Preview_Stage</name>
        <label>Current Stage = Order Preview</label>
        <locationX>1634</locationX>
        <locationY>4790</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Order_Preview_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Preview_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Current_Stage_Select_Product_and_Quantity_Screen</name>
        <label>Current Stage = Select Product and Quantity Screen</label>
        <locationX>1634</locationX>
        <locationY>2546</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Select_Product_and_Quantity_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>productSelectionScreen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Current_Stage_Submit_Order_Stage</name>
        <label>Current Stage = Submit Order</label>
        <locationX>1502</locationX>
        <locationY>5114</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Submit_Order_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Payment_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Failure_Error_Message</name>
        <label>Failure Error Message</label>
        <locationX>1986</locationX>
        <locationY>3302</locationY>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_Wrong_Entity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorMessageTitle</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_Title_Wrong_Entity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorMessageImage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_Wrong_Entity_Image</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Failure_Exit</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Initialize_Cart_Input_1</name>
        <label>Initialize Cart Input</label>
        <locationX>1634</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>CartInput.effectiveAccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CartInput.orderOwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>selectedUserId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Cart_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Invalid_Account_ID_Error_Message</name>
        <label>Invalid Account ID Error Message</label>
        <locationX>50</locationX>
        <locationY>650</locationY>
        <assignmentItems>
            <assignToReference>errorMessageImage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_Wrong_Entity_Image</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorMessageTitle</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_No_Account_Found</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_No_Account_Found_Fault</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Failure_Exit</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Invocable_Action_Error_Message</name>
        <label>Invocable Action Error Message</label>
        <locationX>2338</locationX>
        <locationY>3992</locationY>
        <assignmentItems>
            <assignToReference>errorMessageTitle</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorMessageImage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_Invocable_Action_Image</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Error_Output_Invocable_Action_Message</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Location_Group_Assignment</name>
        <label>Location Group</label>
        <locationX>1370</locationX>
        <locationY>1790</locationY>
        <assignmentItems>
            <assignToReference>selectedLocationGroup</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Location_Group</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Cart_Exists</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Current_Stage_4</name>
        <label>Current Stage = Select Delivery Option</label>
        <locationX>1634</locationX>
        <locationY>4574</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Select_Delivery_Option_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_Delivery_Group</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>WebStore_Assignment</name>
        <label>WebStore</label>
        <locationX>1634</locationX>
        <locationY>1466</locationY>
        <assignmentItems>
            <assignToReference>selectedWebstore</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_WebStore</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>use_Location_Groups_2</targetReference>
        </connector>
    </assignments>
    <constants>
        <name>Confirmation_Image</name>
        <dataType>String</dataType>
        <value>
            <stringValue>/_slds/images/illustrations/empty-states/desertSmall.svg</stringValue>
        </value>
    </constants>
    <constants>
        <name>Delivery_Group_Stage_Number</name>
        <dataType>Number</dataType>
        <value>
            <numberValue>1.0</numberValue>
        </value>
    </constants>
    <constants>
        <name>Error_Output_Invocable_Action_Image</name>
        <dataType>String</dataType>
        <value>
            <stringValue>/_slds/images/illustrations/empty-states/desertSmall.svg</stringValue>
        </value>
    </constants>
    <constants>
        <name>Error_Output_Unmanaged_Order_Image</name>
        <dataType>String</dataType>
        <value>
            <stringValue>/_slds/images/illustrations/empty-states/desertSmall.svg</stringValue>
        </value>
    </constants>
    <constants>
        <name>Error_Output_Wrong_Entity_Image</name>
        <dataType>String</dataType>
        <value>
            <stringValue>/_slds/images/illustrations/empty-states/desertSmall.svg</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Account_Exists</name>
        <label>Account Exists?</label>
        <locationX>842</locationX>
        <locationY>542</locationY>
        <defaultConnector>
            <targetReference>Use_Location_Groups</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes</defaultConnectorLabel>
        <rules>
            <name>No_Account_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Invalid_Account_ID_Error_Message</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Account_or_Contact</name>
        <label>Account or Contact?</label>
        <locationX>842</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Get_Contact_Account_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Contact</defaultConnectorLabel>
        <rules>
            <name>Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fRecordId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>001</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Account</targetReference>
            </connector>
            <label>Account</label>
        </rules>
    </decisions>
    <decisions>
        <name>Cart_Exists</name>
        <label>Cart Exists?</label>
        <locationX>1634</locationX>
        <locationY>1982</locationY>
        <defaultConnector>
            <targetReference>Initialize_Cart_Input_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Does not exist</defaultConnectorLabel>
        <rules>
            <name>Exist_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cartId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cartId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Existing_Cart_1</targetReference>
            </connector>
            <label>Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>External_Payment_Mode_2</name>
        <label>External Payment Mode?</label>
        <locationX>1634</locationX>
        <locationY>5006</locationY>
        <defaultConnector>
            <targetReference>Current_Stage_Enter_Billing_Information_Stage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_External_Payment_Mode_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>externalPaymentMode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Current_Stage_Submit_Order_Stage</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Added</name>
        <label>Product Added?</label>
        <locationX>2338</locationX>
        <locationY>3776</locationY>
        <defaultConnector>
            <targetReference>Product_Items_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Product_Items_Loop.isAdded</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Cart_Item_0</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Exists</name>
        <label>Product Exists?</label>
        <locationX>2338</locationX>
        <locationY>2870</locationY>
        <defaultConnector>
            <targetReference>Cart_Item_Input_Assignment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes</defaultConnectorLabel>
        <rules>
            <name>No_Product_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Product_Items_Loop.productId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Product</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Exists_After_Creation</name>
        <label>Product Exists?</label>
        <locationX>1986</locationX>
        <locationY>3086</locationY>
        <defaultConnector>
            <targetReference>Cart_Item_Input_Assignment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes</defaultConnectorLabel>
        <rules>
            <name>No</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Product_Items_Loop.productId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Product_Create_Record</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Use_Location_Groups</name>
        <label>Use Location Groups?</label>
        <locationX>1634</locationX>
        <locationY>650</locationY>
        <defaultConnector>
            <targetReference>Active_Stages_Multiple_Webstores</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Use_Location_Groups_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>useLocationGroups</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Active_Stages_Multiple_Webstores_Multiple_Location_Groups</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>use_Location_Groups_2</name>
        <label>Use Location Groups?</label>
        <locationX>1634</locationX>
        <locationY>1574</locationY>
        <defaultConnector>
            <targetReference>Cart_Exists</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>use_Location_Groups_2_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>selectedLocationGroupId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Location_Group</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Using_External_Payment_Mode</name>
        <label>Using External Payment Mode?</label>
        <locationX>1634</locationX>
        <locationY>950</locationY>
        <defaultConnector>
            <targetReference>Active_Stages_Billing_Stage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>externalPaymentMode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Active_Stages_Submit_Order</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <description>Add Launch from Contact
Bill Macaulay 5/22/23</description>
    <environments>Default</environments>
    <formulas>
        <name>fRecordId</name>
        <dataType>String</dataType>
        <expression>LEFT( {!recordId}, 3 )</expression>
    </formulas>
    <interviewLabel>Order Entry {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Order Entry</label>
    <loops>
        <name>Product_Items_Loop</name>
        <label>Product Items</label>
        <locationX>1634</locationX>
        <locationY>2762</locationY>
        <collectionReference>productItems</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Product_Exists</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Current_Stage_Enter_Shipping_Address_Stage</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Product_Create_Record</name>
        <label>Product</label>
        <locationX>1722</locationX>
        <locationY>3194</locationY>
        <assignRecordIdToReference>Product_Items_Loop.productId</assignRecordIdToReference>
        <connector>
            <targetReference>Cart_Item_Input_Assignment</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Failure_Error_Message</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>Product_Items_Loop.name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsActive</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Product_Items_Loop.name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ProductCode</field>
            <value>
                <elementReference>Product_Items_Loop.sku</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StockKeepingUnit</field>
            <value>
                <elementReference>Product_Items_Loop.sku</elementReference>
            </value>
        </inputAssignments>
        <object>Product2</object>
    </recordCreates>
    <recordLookups>
        <description>Get Account for the record Id passed</description>
        <name>Get_Account</name>
        <label>Account</label>
        <locationX>842</locationX>
        <locationY>434</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Account_Exists</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Failure_Error_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Contact_Account_Id</name>
        <label>Get Contact Account Id</label>
        <locationX>930</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Contact</object>
        <outputAssignments>
            <assignToReference>recordId</assignToReference>
            <field>AccountId</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Location_Group</name>
        <label>Location Group</label>
        <locationX>1370</locationX>
        <locationY>1682</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Location_Group_Assignment</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Failure_Error_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>selectedLocationGroupId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>LocationGroup</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Product</name>
        <label>Product</label>
        <locationX>1986</locationX>
        <locationY>2978</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Product_Exists_After_Creation</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Failure_Error_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>StockKeepingUnit</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Product_Items_Loop.sku</elementReference>
            </value>
        </filters>
        <object>Product2</object>
        <outputAssignments>
            <assignToReference>Product_Items_Loop.productId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_WebStore</name>
        <label>WebStore</label>
        <locationX>1634</locationX>
        <locationY>1358</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>WebStore_Assignment</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Failure_Error_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>selectedWebStoreId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>WebStore</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordRollbacks>
        <name>Failure_Exit</name>
        <label>Failure Exit</label>
        <locationX>50</locationX>
        <locationY>758</locationY>
        <connector>
            <targetReference>Error_Message</targetReference>
        </connector>
    </recordRollbacks>
    <screens>
        <name>Confirmation_Screen</name>
        <label>Confirmation Screen</label>
        <locationX>1634</locationX>
        <locationY>5522</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Image_Confirmation</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;{!confirmationImage}&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Header_Confirmation</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;You&apos;re all set. Your order has been created.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>OrderSummaryInfo</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(68, 68, 68);&quot;&gt;Order summaries can take a little while to generate. After the order summary is created, you can find it using the order reference number ({!orderReferenceNumber}).&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>FlowFooter7</name>
            <extensionName>runtime_commerce_oms:flowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isFlowError</name>
                <value>
                    <elementReference>isError</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isSubmitStep</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>isError</assignToReference>
                <name>isFlowError</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Enter_Shipping_Address_Screen</name>
        <label>Enter Shipping Address Screen</label>
        <locationX>1634</locationX>
        <locationY>4466</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Current_Stage_4</targetReference>
        </connector>
        <fields>
            <name>Header_enter_shipping_address</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;Provide a shipping address&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ShippingWrapper</name>
            <extensionName>runtime_commerce_oms:shippingWrapper</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>account</name>
                <value>
                    <elementReference>Get_Account</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cartId</name>
                <value>
                    <elementReference>Create_Cart_1.cartSummary.cartId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>webStore</name>
                <value>
                    <elementReference>selectedWebstore</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>checkoutId</name>
                <value>
                    <elementReference>checkoutId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isFlowError</name>
                <value>
                    <elementReference>isError</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isSubmitStep</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>checkoutData</name>
                <value>
                    <elementReference>checkoutData</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedCpaId</name>
                <value>
                    <elementReference>selectedCpaId</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>checkoutId</assignToReference>
                <name>checkoutId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>checkoutData</assignToReference>
                <name>checkoutData</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>selectedCpaId</assignToReference>
                <name>selectedCpaId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isError</assignToReference>
                <name>isFlowError</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Message</name>
        <label>Error Message</label>
        <locationX>50</locationX>
        <locationY>866</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Error_Output_Message_Image</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;{!errorMessageImage}&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Error_Output_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;{!errorMessageTitle}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;{!errorMessage}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Payment_Screen</name>
        <label>Payment Screen</label>
        <locationX>1634</locationX>
        <locationY>5306</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Current_Stage_Confirmation_Stage</targetReference>
        </connector>
        <fields>
            <name>Header_enter_billing_information</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;Enter billing information&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>externalPaymentMode</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>submitOrderHeader</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 20px; color: rgb(62, 62, 60);&quot;&gt;Submit order&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>externalPaymentMode</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>paymentWrapper</name>
            <extensionName>runtime_commerce_oms:paymentWrapper</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>account</name>
                <value>
                    <elementReference>Get_Account</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>webStore</name>
                <value>
                    <elementReference>selectedWebstore</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>checkoutId</name>
                <value>
                    <elementReference>checkoutId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cartId</name>
                <value>
                    <elementReference>Create_Cart_1.cartSummary.cartId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isFlowError</name>
                <value>
                    <elementReference>isError</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isSubmitStep</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cartSummaryTotals</name>
                <value>
                    <elementReference>cartSummaryTotals</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>checkoutData</name>
                <value>
                    <elementReference>checkoutData</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>externalPaymentMode</name>
                <value>
                    <elementReference>externalPaymentMode</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>orderReferenceNumber</assignToReference>
                <name>orderReferenceNumber</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Preview_Screen</name>
        <label>Preview Screen</label>
        <locationX>1634</locationX>
        <locationY>4898</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>External_Payment_Mode_2</targetReference>
        </connector>
        <fields>
            <name>Header_order_preview</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;Order preview&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Preview_Wrapper</name>
            <extensionName>runtime_commerce_oms:previewWrapper</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>account</name>
                <value>
                    <elementReference>Get_Account</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cartId</name>
                <value>
                    <elementReference>Create_Cart_1.cartSummary.cartId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>webStore</name>
                <value>
                    <elementReference>selectedWebstore</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cartSummaryTotals</name>
                <value>
                    <elementReference>cartSummaryTotals</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>cartSummaryTotals</assignToReference>
                <name>cartSummaryTotals</name>
            </outputParameters>
        </fields>
        <fields>
            <name>FlowFooter5</name>
            <extensionName>runtime_commerce_oms:flowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>isError</assignToReference>
                <name>isFlowError</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>productSelectionScreen</name>
        <label>Product Selection</label>
        <locationX>1634</locationX>
        <locationY>2654</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Product_Items_Loop</targetReference>
        </connector>
        <fields>
            <name>Header_select_product_and_quantity</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;Add products to the order&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>productSelectWrapper</name>
            <extensionName>runtime_commerce_oms:prdSelectWrapper</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>productData</name>
                <value>
                    <elementReference>productItems</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>webStore</name>
                <value>
                    <elementReference>selectedWebstore</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>locationGroup</name>
                <value>
                    <elementReference>selectedLocationGroup</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>account</name>
                <value>
                    <elementReference>Get_Account</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cartId</name>
                <value>
                    <elementReference>Create_Cart_1.cartSummary.cartId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>applyOci</name>
                <value>
                    <elementReference>applyOCI</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>useLocationGroups</name>
                <value>
                    <elementReference>useLocationGroups</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>productItems</assignToReference>
                <name>productData</name>
            </outputParameters>
        </fields>
        <fields>
            <name>FlowFooter2</name>
            <extensionName>runtime_commerce_oms:flowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isFlowError</name>
                <value>
                    <elementReference>isError</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>isError</assignToReference>
                <name>isFlowError</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Select_Delivery_Group</name>
        <label>Select Delivery Group</label>
        <locationX>1634</locationX>
        <locationY>4682</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Current_Stage_Order_Preview_Stage</targetReference>
        </connector>
        <fields>
            <name>Header_select_delivery_option</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;Select a delivery option&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>selectShippingMethod</name>
            <extensionName>runtime_commerce_oms:shipMethodWrapper</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>webStore</name>
                <value>
                    <elementReference>selectedWebstore</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>checkoutId</name>
                <value>
                    <elementReference>checkoutId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>checkoutData</name>
                <value>
                    <elementReference>checkoutData</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isFlowError</name>
                <value>
                    <elementReference>isError</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isSubmitStep</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>account</name>
                <value>
                    <elementReference>Get_Account</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>checkoutData</assignToReference>
                <name>checkoutData</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>checkoutId</assignToReference>
                <name>checkoutId</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Select_Webstore_and_Location_Group</name>
        <label>Select Webstore and Location Group</label>
        <locationX>1634</locationX>
        <locationY>1250</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_WebStore</targetReference>
        </connector>
        <fields>
            <name>Header_Both_Webstore_and_Location_Group_Selection</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(62, 62, 60); font-size: 20px; background-color: rgb(255, 255, 255);&quot;&gt;Select a store and location group&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>useLocationGroups</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Header_Store_Webstore_and_Location_Group_Selection</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 20px; color: rgb(62, 62, 60);&quot;&gt;Select a store&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>useLocationGroups</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>storeLocationGroupUserSelectorWrapper</name>
            <extensionName>runtime_commerce_oms:storeLocGrpWrapper</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>account</name>
                <value>
                    <elementReference>Get_Account</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>flowType</name>
                <value>
                    <stringValue>ORDER ENTRY</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedLocationGroupId</name>
                <value>
                    <elementReference>selectedLocationGroupId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedUserId</name>
                <value>
                    <elementReference>selectedUserId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedWebStoreId</name>
                <value>
                    <elementReference>selectedWebStoreId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>useLocationGroups</name>
                <value>
                    <elementReference>useLocationGroups</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>selectedLocationGroupId</assignToReference>
                <name>selectedLocationGroupId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>selectedUserId</assignToReference>
                <name>selectedUserId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>selectedWebStoreId</assignToReference>
                <name>selectedWebStoreId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cartId</assignToReference>
                <name>cartId</name>
            </outputParameters>
        </fields>
        <fields>
            <name>FlowFooter1</name>
            <extensionName>runtime_commerce_oms:flowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isFlowError</name>
                <value>
                    <elementReference>isError</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>isError</assignToReference>
                <name>isFlowError</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <sourceTemplate>runtime_commerce_oe__Order_Entry</sourceTemplate>
    <stages>
        <name>Confirmation_Stage</name>
        <isActive>false</isActive>
        <label>Confirmation</label>
        <stageOrder>8</stageOrder>
    </stages>
    <stages>
        <name>Enter_Billing_Information_Stage</name>
        <isActive>false</isActive>
        <label>Enter billing information</label>
        <stageOrder>7</stageOrder>
    </stages>
    <stages>
        <name>Enter_Shipping_Address_Stage</name>
        <isActive>false</isActive>
        <label>Provide a shipping address</label>
        <stageOrder>4</stageOrder>
    </stages>
    <stages>
        <name>Order_Preview_Stage</name>
        <isActive>false</isActive>
        <label>Order preview</label>
        <stageOrder>6</stageOrder>
    </stages>
    <stages>
        <name>Select_Delivery_Option_Stage</name>
        <isActive>false</isActive>
        <label>Select a delivery option</label>
        <stageOrder>5</stageOrder>
    </stages>
    <stages>
        <name>Select_Location_Group_Stage</name>
        <isActive>false</isActive>
        <label>Select a location group</label>
        <stageOrder>2</stageOrder>
    </stages>
    <stages>
        <name>Select_Product_and_Quantity_Stage</name>
        <isActive>false</isActive>
        <label>Add products to the order</label>
        <stageOrder>3</stageOrder>
    </stages>
    <stages>
        <name>Select_Webstore_And_Location_Group_Stage</name>
        <isActive>false</isActive>
        <label>Select a store and location group</label>
        <stageOrder>0</stageOrder>
    </stages>
    <stages>
        <name>Select_Webstore_Stage</name>
        <isActive>false</isActive>
        <label>Select a store</label>
        <stageOrder>1</stageOrder>
    </stages>
    <stages>
        <name>Submit_Order_Stage</name>
        <isActive>false</isActive>
        <label>Submit order</label>
        <stageOrder>9</stageOrder>
    </stages>
    <start>
        <locationX>716</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Account_or_Contact</targetReference>
        </connector>
    </start>
    <status>Draft</status>
    <textTemplates>
        <name>Error_Output_Invocable_Action_Message</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>An Order on Behalf Of flow action failed.</text>
    </textTemplates>
    <textTemplates>
        <name>Error_Output_No_Account_Found</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;No account found.&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>Error_Output_No_Account_Found_Fault</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;To place an order, provide a valid account id.&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>Error_Output_No_Location_Group</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Placing an order requires a location group.</text>
    </textTemplates>
    <textTemplates>
        <name>Error_Output_Title_No_Location_Group</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>No location group found.</text>
    </textTemplates>
    <textTemplates>
        <name>Error_Output_Title_Wrong_Entity</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;This is where you&apos;d place an order. To place an order, start from the account page.&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>Error_Output_Wrong_Entity</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>We don&apos;t think you meant to come here.</text>
    </textTemplates>
    <variables>
        <name>applyOCI</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>Cart_Item_Input</name>
        <apexClass>ConnectApi__CartItemInput</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>cartId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CartInput</name>
        <apexClass>ConnectApi__CartInput</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>cartSummaryTotals</name>
        <apexClass>runtime_commerce_oe__CartSummaryTotals</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>checkoutData</name>
        <apexClass>runtime_commerce_oe__CheckoutData</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>checkoutId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>confirmationImage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>errorMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>errorMessageImage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>errorMessageTitle</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>externalPaymentMode</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>isError</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>orderReferenceNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>productItems</name>
        <apexClass>runtime_commerce_oe__ProductItem</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>selectedCpaId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>selectedLocationGroup</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>LocationGroup</objectType>
    </variables>
    <variables>
        <name>selectedLocationGroupId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>selectedUserId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <description>Selected Webstore object</description>
        <name>selectedWebstore</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WebStore</objectType>
    </variables>
    <variables>
        <name>selectedWebStoreId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <description>Flag to determine whether we need to show Location Group selection or not.</description>
        <name>useLocationGroups</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
